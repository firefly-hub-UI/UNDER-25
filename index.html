<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Wish - Dating App for Under 25s</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF4D97;
            --secondary: #5B51D9;
            --accent: #25C2E3;
            --light: #F8FAFF;
            --dark: #1A1C2B;
            --success: #4CC76A;
            --warning: #FFBD2E;
            --error: #FF5252;
            --gray: #8A8D9B;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #FF4D97 0%, #5B51D9 100%);
            color: var(--dark);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            overflow: hidden;
        }
        
        .app-container {
            width: 100%;
            max-width: 100%;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
            background: white;
            border-radius: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .screen {
            display: none;
            flex-direction: column;
            height: 100%;
            width: 100%;
            padding: 0;
            overflow-y: auto;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
        }
        
        .active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Header Styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: white;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-weight: 800;
            font-size: 22px;
            color: var(--primary);
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        .nav-icon {
            font-size: 24px;
            color: var(--gray);
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .nav-icon:active {
            transform: scale(0.9);
        }
        
        /* Content Area */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            padding-bottom: 100px; /* Increased space for taller tab bar */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }
        
        /* Onboarding Styles */
        .onboarding-content {
            text-align: center;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 20px;
        }
        
        .onboarding-illustration {
            width: 100%;
            height: 30vh;
            background: linear-gradient(45deg, #FFE6F1 0%, #E6EEFF 100%);
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .onboarding-illustration i {
            font-size: 80px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .onboarding-title {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .onboarding-subtitle {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        /* Button Styles */
        .btn {
            padding: 16px 24px;
            border-radius: 16px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn:after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            width: 100%;
        }
        
        .btn-primary:active {
            transform: scale(0.98);
            box-shadow: 0 5px 15px rgba(255, 77, 151, 0.3);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--light);
            color: var(--dark);
            width: 100%;
        }
        
        .btn-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            font-size: 20px;
            margin: 0 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-icon:active {
            transform: scale(0.9);
        }
        
        /* Profile Card Styles */
        .profile-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            position: relative;
            transition: transform 0.3s ease;
        }
        
        .profile-image-container {
            width: 100%;
            height: 60vh;
            max-height: 500px;
            position: relative;
            overflow: hidden;
            touch-action: pan-y;
        }
        
        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .profile-image.active {
            opacity: 1;
        }
        
        .image-indicators {
            position: absolute;
            bottom: 15px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 5;
        }
        
        .image-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .image-indicator.active {
            background: white;
            width: 20px;
            border-radius: 4px;
        }
        
        .profile-info {
            padding: 20px;
        }
        
        .profile-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .profile-details {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        .profile-bio {
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .badges {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .badge {
            padding: 6px 12px;
            background: var(--light);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .profile-actions {
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
        }
        
        .action-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .like-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .dislike-btn {
            background: white;
            color: var(--gray);
        }
        
        .super-like-btn {
            background: linear-gradient(45deg, var(--accent), #2CD4EB);
            color: white;
        }
        
        .action-btn:active {
            transform: scale(0.95);
        }
        
        /* Tab Bar - Fixed for Mobile - Increased Height */
        .tab-bar {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 15px 0;
            background: white;
            border-top: 1px solid #f0f0f0;
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 100%;
            z-index: 10;
            /* Safe area for mobile devices with notches */
            padding-bottom: max(20px, env(safe-area-inset-bottom));
            height: 90px; /* Increased height for better visibility */
            /* Ensure it's always visible */
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.15);
        }
        
        .tab-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            font-size: 13px; /* Slightly larger font */
            cursor: pointer;
            transition: color 0.3s ease;
            flex: 1;
            padding: 8px; /* Increased padding */
            height: 100%;
            justify-content: center;
        }
        
        .tab-item.active {
            color: var(--primary);
            background-color: rgba(255, 77, 151, 0.05); /* Subtle background for active tab */
            border-radius: 12px;
        }
        
        .tab-icon {
            font-size: 26px; /* Larger icons */
            margin-bottom: 6px; /* Adjusted spacing */
            transition: transform 0.3s ease;
        }
        
        .tab-item:active .tab-icon {
            transform: scale(0.9);
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .form-input {
            width: 100%;
            padding: 16px;
            border: 2px solid #f0f0f0;
            border-radius: 16px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        /* Search Bar */
        .search-bar {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border-radius: 50px;
            padding: 10px 20px;
            margin: 15px 0;
        }
        
        .search-bar input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 10px;
            font-size: 16px;
            outline: none;
        }
        
        .search-bar i {
            color: var(--gray);
            font-size: 20px;
        }
        
        /* Progress Bar */
        .progress-bar {
            height: 5px;
            background: #f0f0f0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 5px;
            width: 30%;
        }
        
        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        input:checked + .slider:before {
            transform: translateX(24px);
        }
        
        /* Personality Reveal */
        .personality-reveal {
            background: linear-gradient(45deg, #FFE6F1 0%, #E6EEFF 100%);
            border-radius: 16px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .personality-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .personality-answer {
            font-size: 14px;
            color: var(--dark);
        }
        
        /* Microcopy */
        .microcopy {
            font-size: 12px;
            color: var(--gray);
            text-align: center;
            margin: 10px 0;
            line-height: 1.5;
        }
        
        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 110px; /* Adjusted for taller mobile tab bar */
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            transition: opacity 0.3s ease;
            max-width: 90%;
            text-align: center;
        }
        
        /* Photo Gallery */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .gallery-item {
            height: 150px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Profile Edit Form */
        .edit-form {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 16px;
            margin: 15px 0;
        }
        
        /* Discover Grid */
        .discover-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 15px 0;
        }
        
        .discover-item {
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            height: 180px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .discover-item:active {
            transform: scale(0.98);
        }
        
        .discover-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .discover-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: white;
            padding: 15px;
        }
        
        .discover-name {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .discover-details {
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .discover-badges {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .discover-badge {
            font-size: 10px;
            padding: 3px 8px;
            background: var(--primary);
            border-radius: 12px;
        }
        
        /* Search Results */
        .search-results {
            margin-top: 15px;
        }
        
        .search-filter {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            overflow-x: auto;
            padding-bottom: 5px;
            -webkit-overflow-scrolling: touch;
        }
        
        .filter-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            border: none;
            font-size: 14px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .filter-btn:active {
            transform: scale(0.95);
        }
        
        /* Add Profile Section */
        .add-profile-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 16px;
            margin: 15px 0;
            text-align: center;
        }
        
        .add-profile-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        
        .add-profile-btn:active {
            transform: scale(0.95);
        }
        
        .add-profile-btn i {
            margin-right: 8px;
        }
        
        /* Swipe Animation */
        .swipe-right {
            transform: translateX(1000px) rotate(30deg);
            opacity: 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }
        
        .swipe-left {
            transform: translateX(-1000px) rotate(-30deg);
            opacity: 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }
        
        /* Match Animation */
        .match-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .match-animation.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .match-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 80%;
            animation: scaleIn 0.5s ease;
        }
        
        .match-title {
            font-size: 28px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .match-text {
            margin-bottom: 20px;
            color: var(--dark);
        }
        
        .match-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        /* Chat Styles */
        .chat-icon {
            position: relative;
        }
        
        .chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--primary);
            color: white;
            font-size: 10px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .chat-container {
            position: fixed;
            bottom: 110px; /* Adjusted for taller mobile tab bar */
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 100;
        }
        
        .chat-main-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chat-main-button.active {
            transform: rotate(45deg);
        }
        
        .chat-main-button:active {
            transform: scale(0.95);
        }
        
        .chat-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 300px;
            height: 400px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
        }
        
        .chat-window.active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }
        
        .chat-header {
            padding: 15px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-title {
            font-weight: 600;
            font-size: 16px;
        }
        
        .chat-close {
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .chat-close:active {
            transform: scale(0.9);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            -webkit-overflow-scrolling: touch;
        }
        
        .message {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            position: relative;
            animation: messageSlide 0.3s ease;
        }
        
        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .message-incoming {
            background: #f0f0f0;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        
        .message-outgoing {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .message-time {
            font-size: 10px;
            color: var(--gray);
            margin-top: 5px;
            text-align: right;
        }
        
        .message-incoming .message-time {
            color: var(--gray);
        }
        
        .message-outgoing .message-time {
            color: rgba(255, 255, 255, 0.8);
        }
        
        .chat-input-container {
            display: flex;
            padding: 10px;
            background: white;
            border-top: 1px solid #f0f0f0;
            align-items: center;
        }
        
        .chat-input {
            flex: 1;
            border: 1px solid #f0f0f0;
            border-radius: 24px;
            padding: 8px 15px;
            margin-right: 10px;
            font-size: 14px;
            outline: none;
        }
        
        .send-button {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .send-button:active {
            transform: scale(0.9);
        }
        
        /* Selection Options */
        .selection-options {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            gap: 10px;
        }
        
        .selection-option {
            padding: 10px 20px;
            border-radius: 20px;
            background: #f8f9fa;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .selection-option.active {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .selection-option:active {
            transform: scale(0.95);
        }
        
        @keyframes scaleIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Mobile-specific optimizations */
        @media (max-height: 700px) {
            .profile-image-container {
                height: 50vh;
            }
            
            .onboarding-illustration {
                height: 25vh;
            }
            
            .chat-window {
                height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            .header {
                padding: 10px 15px;
            }
            
            .content {
                padding: 15px;
                padding-bottom: 100px; /* Ensure space for taller tab bar */
            }
            
            .onboarding-title {
                font-size: 20px;
            }
            
            .profile-name {
                font-size: 20px;
            }
            
            .action-btn {
                width: 50px;
                height: 50px;
            }
            
            .chat-window {
                width: 280px;
                right: -10px;
            }
            
            .profile-image-container {
                height: 50vh;
            }
            
            .discover-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .discover-item {
                height: 200px;
            }
            
            .photo-gallery {
                grid-template-columns: 1fr;
            }
            
            .gallery-item {
                height: 200px;
            }
            
            .selection-options {
                flex-direction: column;
                gap: 5px;
            }
            
            .selection-option {
                text-align: center;
            }
            
            /* Adjust tab bar for very small screens */
            .tab-bar {
                height: 90px; /* Maintain taller height */
                padding-bottom: max(20px, env(safe-area-inset-bottom));
            }
            
            .tab-icon {
                font-size: 26px; /* Maintain larger icons */
            }
            
            .tab-item {
                font-size: 13px; /* Maintain larger font */
            }
        }
        
        /* Prevent zoom on input focus for mobile */
        @media (max-width: 480px) {
            input, select, textarea {
                font-size: 16px !important;
            }
        }
        
        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Settings Menu Items */
        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item:active {
            background-color: #f8f9fa;
        }
        
        .menu-item i {
            color: var(--gray);
        }
        
        /* Edit Profile Screen */
        .edit-profile-form {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 16px;
            margin: 15px 0;
        }
        
        .avatar-upload {
            text-align: center;
            margin: 20px 0;
        }
        
        .avatar-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .avatar-upload-btn {
            display: inline-block;
            padding: 8px 16px;
            background: var(--light);
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Onboarding Screen -->
        <div class="screen active" id="onboarding-screen">
            <div class="header">
                <div class="logo">Your<span>Wish</span></div>
            </div>
            
            <div class="content">
                <div class="onboarding-content">
                    <div class="onboarding-illustration">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h1 class="onboarding-title">Find Your Vibe, Your Tribe!</h1>
                    <p class="onboarding-subtitle">Connect with like-minded people and find your perfect match</p>
                    
                    <div class="form-group">
                        <input type="email" class="form-input" placeholder="Email or Phone" id="login-email">
                    </div>
                    
                    <div class="form-group">
                        <input type="password" class="form-input" placeholder="Password" id="login-password">
                    </div>
                    
                    <div class="form-group">
                        <button class="btn btn-primary" onclick="validateLogin()">Continue</button>
                    </div>
                    
                    <p class="microcopy">Or continue with social media</p>
                    
                    <div style="display: flex; justify-content: center; margin: 15px 0;">
                        <div class="btn-icon" onclick="socialLogin('google')"><i class="fab fa-google"></i></div>
                        <div class="btn-icon" onclick="socialLogin('apple')"><i class="fab fa-apple"></i></div>
                        <div class="btn-icon" onclick="socialLogin('instagram')"><i class="fab fa-instagram"></i></div>
                    </div>
                    
                    <p class="microcopy">By continuing, you agree to our Terms and Privacy Policy</p>
                </div>
            </div>
        </div>
        
        <!-- Preferences Screen -->
        <div class="screen" id="preferences-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('onboarding-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Your<span>Wish</span></div>
                <div class="nav-icon" onclick="showHelp('preferences')"><i class="fas fa-question-circle"></i></div>
            </div>
            
            <div class="content">
                <h2 class="onboarding-title">Tell us about yourself</h2>
                <p class="onboarding-subtitle">Help us find your perfect matches</p>
                
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">I'm looking for</label>
                    <select class="form-input" id="looking-for">
                        <option>Friends</option>
                        <option>Dating</option>
                        <option>Serious Relationship</option>
                        <option>Something casual</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Age Range</label>
                    <select class="form-input" id="age-range">
                        <option>18-21</option>
                        <option>21-25</option>
                        <option>25-30</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Maximum Distance</label>
                    <select class="form-input" id="max-distance">
                        <option>5 km</option>
                        <option>10 km</option>
                        <option>25 km</option>
                        <option>50 km</option>
                    </select>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                    <div>
                        <div class="form-label">Enable Notifications</div>
                        <p class="microcopy">Get updates on new matches and messages</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="notifications-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                    <div>
                        <div class="form-label">Private Account</div>
                        <p class="microcopy">Only matches can see your profile</p>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="private-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" onclick="savePreferences()">Complete Profile</button>
                </div>
            </div>
        </div>
        
        <!-- Home Screen -->
        <div class="screen" id="home-screen">
            <div class="header">
                <div class="logo">Your<span>Wish</span></div>
                <div class="nav-icon" onclick="showScreen('settings-screen')"><i class="fas fa-cog"></i></div>
            </div>
            
            <div class="content">
                <h2 class="onboarding-title">Discover People</h2>
                <p class="onboarding-subtitle">Swipe to like or pass on profiles</p>
                
                <!-- Selection Options -->
                <div class="selection-options">
                    <div class="selection-option active" onclick="setSelectionOption(this, 'everyone')">Everyone</div>
                    <div class="selection-option" onclick="setSelectionOption(this, 'nearby')">Nearby</div>
                    <div class="selection-option" onclick="setSelectionOption(this, 'popular')">Popular</div>
                </div>
                
                <div class="profile-card" id="current-profile">
                    <div class="profile-image-container">
                        <img src="https://media.licdn.com/dms/image/v2/D5603AQETNhgInzhzTQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1731682266665?e=1759968000&v=beta&t=O8dUPxY20YiCF0zqW4Guzz8Y7G_mkfom1eO1ZvVdJiw" alt="Profile" class="profile-image active" data-index="0">
                        <img src="https://under25storage.blr1.cdn.digitaloceanspaces.com/images/Rushil.2e16d0ba.fill-500x500.png" alt="Profile" class="profile-image" data-index="1">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNUKm86X1RpvkW4bi4Ic0VWPMO5Y8UD6Oaww&s" alt="Profile" class="profile-image" data-index="2">
                        <div class="image-indicators">
                            <div class="image-indicator active" data-index="0"></div>
                            <div class="image-indicator" data-index="1"></div>
                            <div class="image-indicator" data-index="2"></div>
                        </div>
                    </div>
                    <div class="profile-info">
                        <h2 class="profile-name">Rushil Bali, 22</h2>
                        <p class="profile-details">📍 5 km away · 🎓 Participate for Students</p>
                        <p class="profile-bio">Love painting, indie music, and coffee shops. Looking for someone to explore the city with.</p>
                        
                        <div class="badges">
                            <div class="badge">🎨 Art</div>
                            <div class="badge">☕ Coffee</div>
                            <div class="badge">🎵 Indie Music</div>
                            <div class="badge">📸 Photography</div>
                            <div class="badge">Love to show participation</div>
                        </div>
                        
                        <div class="personality-reveal">
                            <div class="personality-title">My perfect first date:</div>
                            <div class="personality-answer">My perfect first date would be visiting a café and having a meaningful conversation about participating in Under 25.</div>
                        </div>
                    </div>
                    
                    <div class="profile-actions">
                        <div class="action-btn dislike-btn" onclick="swipeCard('left')">
                            <i class="fas fa-times"></i>
                        </div>
                        <div class="action-btn super-like-btn" onclick="swipeCard('super')">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="action-btn like-btn" onclick="swipeCard('right')">
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                </div>
                
                <!-- Discover Grid -->
                <h3 style="margin: 20px 0 10px 0;">More People Nearby</h3>
                <div class="discover-grid">
                    <div class="discover-item" onclick="viewProfile('krishna')">
                        <img src="http://media.licdn.com/dms/image/v2/D4E03AQHWnLgowx_00A/profile-displayphoto-crop_800_800/B4EZgJ_8NQGYAI-/0/1752514415296?e=1759968000&v=beta&t=lL6YUi4_ZPEF9eCQk9t7pSkghshVa4YeVNwMUCU3r0k" alt="Profile">
                        <div class="discover-info">
                            <div class="discover-name">Krishna, 21</div>
                            <div class="discover-details">📍 4 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">💪 Fitness</div>
                                <div class="discover-badge">🐶 Dogs</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="discover-item" onclick="viewProfile('vakas')">
                        <img src="https://media.licdn.com/dms/image/v2/D5603AQE5v-bKBsRSWw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1725465368633?e=1761177600&v=beta&t=FI-xWW8WiyxNARC1sZyjPO1VFKAyfK5Cz40DcjgeNss" alt="Profile">
                        <div class="discover-info">
                            <div class="discover-name">Vakas, 23</div>
                            <div class="discover-details">📍 6 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">🎨 Design</div>
                                <div class="discover-badge">🎵 Music</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="discover-item" onclick="viewProfile('kota')">
                        <img src="https://media.licdn.com/dms/image/v2/D4E03AQGJ15sVfGfxpw/profile-displayphoto-shrink_800_800/B4EZa5qZraHMAc-/0/1746871623753?e=1759968000&v=beta&t=t2-zS3YEE7VJS_caqojIRKJNo7QRAvZzJ1EC88N5JdE" alt="Profile">
                        <div class="discover-info">
                            <div class="discover-name">Kota, 24</div>
                            <div class="discover-details">📍 3 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">📊 Marketing</div>
                                <div class="discover-badge">🏃 Running</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="discover-item" onclick="viewProfile('lalith')">
                        <img src="https://media.licdn.com/dms/image/v2/D4D35AQFatCqe8cSZLw/profile-framedphoto-shrink_400_400/profile-framedphoto-shrink_400_400/0/1730223801181?e=1759042800&v=beta&t=9TaAEi9LgUgqRVvSDpyAofm9axyfmcaBurcafhVRkNM" alt="Profile">
                        <div class="discover-info">
                            <div class="discover-name">Lalith, 22</div>
                            <div class="discover-details">📍 5 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">🔬 Science</div>
                                <div class="discover-badge">🎾 Tennis</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Chat Container (Floating on Home Screen) -->
            <div class="chat-container">
                <div class="chat-main-button" onclick="toggleChat()">
                    <i class="fas fa-comment"></i>
                </div>
                <div class="chat-window" id="chat-window">
                    <div class="chat-header">
                        <div class="chat-title">Messages</div>
                        <div class="chat-close" onclick="toggleChat()"><i class="fas fa-times"></i></div>
                    </div>
                    <div class="chat-messages" id="chat-messages">
                        <div class="message message-incoming">
                            <div class="message-text">Hey there! How's it going?</div>
                            <div class="message-time">10:20 AM</div>
                        </div>
                        
                        <div class="message message-outgoing">
                            <div class="message-text">Pretty good! Just finished some work. How about you?</div>
                            <div class="message-time">10:22 AM</div>
                        </div>
                        
                        <div class="message message-incoming">
                            <div class="message-text">I'm doing great! Just thinking about that café you mentioned</div>
                            <div class="message-time">10:23 AM</div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" placeholder="Type a message..." id="message-input" onkeypress="handleMessageKeypress(event)">
                        <button class="send-button" onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="tab-bar">
                <div class="tab-item active" onclick="setActiveTab(this, 'home-screen')">
                    <div class="tab-icon"><i class="fas fa-compass"></i></div>
                    <div>Discover</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'explore-screen')">
                    <div class="tab-icon"><i class="fas fa-search"></i></div>
                    <div>Explore</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'matches-screen')">
                    <div class="tab-icon"><i class="fas fa-heart"></i></div>
                    <div>Matches</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'profile-screen')">
                    <div class="tab-icon"><i class="fas fa-user"></i></div>
                    <div>Profile</div>
                </div>
            </div>
        </div>
        
        <!-- Matches Screen -->
        <div class="screen" id="matches-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('home-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Your Matches</div>
                <div class="nav-icon" onclick="showFilters()"><i class="fas fa-filter"></i></div>
            </div>
            
            <div class="content">
                <h2 class="onboarding-title">Your Connections</h2>
                <p class="onboarding-subtitle">People you've matched with</p>
                
                <div class="discover-grid">
                    <div class="discover-item" onclick="openChat('rushil')">
                        <img src="https://media.licdn.com/dms/image/v2/D5603AQETNhgInzhzTQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1731682266665?e=1759968000&v=beta&t=O8dUPxY20YiCF0zqW4Guzz8Y7G_mkfom1eO1ZvVdJiw" alt="Rushil">
                        <div class="discover-info">
                            <div class="discover-name">Rushil, 22</div>
                            <div class="discover-details">📍 5 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">🎨 Art</div>
                                <div class="discover-badge">☕ Coffee</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="discover-item" onclick="openChat('krishna')">
                        <img src="http://media.licdn.com/dms/image/v2/D4E03AQHWnLgowx_00A/profile-displayphoto-crop_800_800/B4EZgJ_8NQGYAI-/0/1752514415296?e=1759968000&v=beta&t=lL6YUi4_ZPEF9eCQk9t7pSkghshVa4YeVNwMUCU3r0k" alt="Krishna">
                        <div class="discover-info">
                            <div class="discover-name">Krishna, 21</div>
                            <div class="discover-details">📍 4 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">💪 Fitness</div>
                                <div class="discover-badge">🐶 Dogs</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="discover-item" onclick="openChat('aditya')">
                        <img src="https://media.licdn.com/dms/image/v2/D5603AQE6yjLFDfxE9g/profile-displayphoto-scale_400_400/B56ZkimhTRJ8Ag-/0/1757222149940?e=1759968000&v=beta&t=biQlFmC_AG66i8sdLAyksX8ZA5d3NPY9HPryWYWT-70" alt="Aditya">
                        <div class="discover-info">
                            <div class="discover-name">Aditya, 20</div>
                            <div class="discover-details">📍 3 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">🎮 Gaming</div>
                                <div class="discover-badge">💻 Coding</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="discover-item" onclick="openChat('jejeshvini')">
                        <img src="https://static.vecteezy.com/system/resources/previews/042/332/098/non_2x/default-avatar-profile-icon-grey-photo-placeholder-female-no-photo-images-for-unfilled-user-profile-greyscale-illustration-for-socail-media-web-vector.jpg" alt="Jejeshvini">
                        <div class="discover-info">
                            <div class="discover-name">Jejeshvini, 25</div>
                            <div class="discover-details">📍 8 km away</div>
                            <div class="discover-badges">
                                <div class="discover-badge">📚 Reading</div>
                                <div class="discover-badge">🏥 Medicine</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-bar">
                <div class="tab-item" onclick="setActiveTab(this, 'home-screen')">
                    <div class="tab-icon"><i class="fas fa-compass"></i></div>
                    <div>Discover</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'explore-screen')">
                    <div class="tab-icon"><i class="fas fa-search"></i></div>
                    <div>Explore</div>
                </div>
                <div class="tab-item active" onclick="setActiveTab(this, 'matches-screen')">
                    <div class="tab-icon"><i class="fas fa-heart"></i></div>
                    <div>Matches</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'profile-screen')">
                    <div class="tab-icon"><i class="fas fa-user"></i></div>
                    <div>Profile</div>
                </div>
            </div>
        </div>
        
        <!-- Explore Screen -->
        <div class="screen" id="explore-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('home-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Explore</div>
                <div class="nav-icon" onclick="showFilters()"><i class="fas fa-sliders-h"></i></div>
            </div>
            
            <div class="content">
                <!-- Search Bar -->
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search for people, interests..." id="search-input" onkeyup="filterProfiles()">
                </div>
                
                <!-- Search Filters -->
                <div class="search-filter">
                    <button class="filter-btn active" onclick="setFilter(this, 'all')">All</button>
                    <button class="filter-btn" onclick="setFilter(this, 'nearby')">Nearby</button>
                    <button class="filter-btn" onclick="setFilter(this, 'recent')">Recent</button>
                    <button class="filter-btn" onclick="setFilter(this, 'popular')">Popular</button>
                    <button class="filter-btn" onclick="setFilter(this, 'verified')">Verified</button>
                </div>
                
                <h2 class="onboarding-title">Find Your Match</h2>
                <p class="onboarding-subtitle">Based on your interests and preferences</p>
                
                <div class="search-results" id="search-results">
                    <div class="profile-card" id="explore-profile-1">
                        <div class="profile-image-container">
                            <img src="https://media.licdn.com/dms/image/v2/D5603AQE6yjLFDfxE9g/profile-displayphoto-scale_400_400/B56ZkimhTRJ8Ag-/0/1757222149940?e=1759968000&v=beta&t=biQlFmC_AG66i8sdLAyksX8ZA5d3NPY9HPryWYWT-70" class="profile-image active" alt="Profile" data-index="0">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" class="profile-image" alt="Profile" data-index="1">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" class="profile-image" alt="Profile" data-index="2">
                            <div class="image-indicators">
                                <div class="image-indicator active" data-index="0"></div>
                                <div class="image-indicator" data-index="1"></div>
                                <div class="image-indicator" data-index="2"></div>
                            </div>
                        </div>
                        <div class="profile-info">
                            <h2 class="profile-name">Aditya , 20</h2>
                            <p class="profile-details">📍 3 km away · 💻 Software Developer</p>
                            <p class="profile-bio">Tech enthusiast, gamer, and coffee addict. Love hiking and trying new food spots.</p>
                            
                            <div class="badges">
                                <div class="badge">🎮 Gaming</div>
                                <div class="badge">💻 Coding</div>
                                <div class="badge">🍕 Foodie</div>
                                <div class="badge">🏔️ Hiking</div>
                            </div>
                            
                            <div class="personality-reveal">
                                <div class="personality-title">Favorite Weekend Activity:</div>
                                <div class="personality-answer">Gaming marathon with friends or exploring new hiking trails</div>
                            </div>
                        </div>
                        
                        <div class="profile-actions">
                            <div class="action-btn dislike-btn" onclick="swipeCard('left', 'explore-profile-1')">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="action-btn super-like-btn" onclick="swipeCard('super', 'explore-profile-1')">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="action-btn like-btn" onclick="swipeCard('right', 'explore-profile-1')">
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-card" id="explore-profile-2">
                        <div class="profile-image-container">
                            <img src="https://static.vecteezy.com/system/resources/previews/042/332/098/non_2x/default-avatar-profile-icon-grey-photo-placeholder-female-no-photo-images-for-unfilled-user-profile-greyscale-illustration-for-socail-media-web-vector.jpg" class="profile-image active" alt="Profile" data-index="0">
                            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" class="profile-image" alt="Profile" data-index="1">
                            <img src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" class="profile-image" alt="Profile" data-index="2">
                            <div class="image-indicators">
                                <div class="image-indicator active" data-index="0"></div>
                                <div class="image-indicator" data-index="1"></div>
                                <div class="image-indicator" data-index="2"></div>
                            </div>
                        </div>
                        <div class="profile-info">
                            <h2 class="profile-name">Jejeshvini, 25</h2>
                            <p class="profile-details">📍 8 km away · 🎓 Medical Student</p>
                            <p class="profile-bio">Future doctor, bookworm, and coffee lover. Looking for someone to share deep conversations and spontaneous adventures with.</p>
                            
                            <div class="badges">
                                <div class="badge">📚 Reading</div>
                                <div class="badge">🏥 Medicine</div>
                                <div class="badge">☕ Coffee</div>
                                <div class="badge">🎾 Tennis</div>
                            </div>
                            
                            <div class="personality-reveal">
                                <div class="personality-title">Life goal:</div>
                                <div class="personality-answer">To open a free clinic in underserved communities</div>
                            </div>
                        </div>
                        
                        <div class="profile-actions">
                            <div class="action-btn dislike-btn" onclick="swipeCard('left', 'explore-profile-2')">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="action-btn super-like-btn" onclick="swipeCard('super', 'explore-profile-2')">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="action-btn like-btn" onclick="swipeCard('right', 'explore-profile-2')">
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-bar">
                <div class="tab-item" onclick="setActiveTab(this, 'home-screen')">
                    <div class="tab-icon"><i class="fas fa-compass"></i></div>
                    <div>Discover</div>
                </div>
                <div class="tab-item active" onclick="setActiveTab(this, 'explore-screen')">
                    <div class="tab-icon"><i class="fas fa-search"></i></div>
                    <div>Explore</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'matches-screen')">
                    <div class="tab-icon"><i class="fas fa-heart"></i></div>
                    <div>Matches</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'profile-screen')">
                    <div class="tab-icon"><i class="fas fa-user"></i></div>
                    <div>Profile</div>
                </div>
            </div>
        </div>
        
        <!-- Profile Screen -->
        <div class="screen" id="profile-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('home-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">My Profile</div>
                <div class="nav-icon" onclick="toggleEditMode()"><i class="fas fa-edit"></i></div>
            </div>
            
            <div class="content">
                <div style="text-align: center; margin: 20px 0;">
                    <img src="https://media.licdn.com/dms/image/v2/D5603AQE6yjLFDfxE9g/profile-displayphoto-scale_400_400/B56ZkimhTRJ8Ag-/0/1757222149940?e=1759968000&v=beta&t=biQlFmC_AG66i8sdLAyksX8ZA5d3NPY9HPryWYWT-70" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <h2 class="profile-name">Sai Prasad, 20</h2>
                    <p class="profile-details">🎓 Art Student · 📍 India</p>
                    
                    <div class="add-profile-section">
                        <p>Want to see how others view your profile?</p>
                        <button class="add-profile-btn" onclick="showScreen('add-profile-screen')">
                            <i class="fas fa-plus"></i> Add More Photos
                        </button>
                    </div>
                </div>
                
                <div class="profile-info">
                    <h3 style="margin-bottom: 15px;">About Me</h3>
                    <p class="profile-bio">I'm an art student passionate about painting and photography. Love visiting galleries, indie music concerts, and exploring cute coffee shops. Looking for someone who shares similar interests and wants to explore the city together.</p>
                    
                    <h3 style="margin: 20px 0 10px 0;">Interests</h3>
                    <div class="badges">
                        <div class="badge">🎨 Painting</div>
                        <div class="badge">📸 Photography</div>
                        <div class="badge">☕ Coffee</div>
                        <div class="badge">🎵 Indie Music</div>
                        <div class="badge">🎬 Movies</div>
                        <div class="badge">✈️ Travel</div>
                    </div>
                    
                    <h3 style="margin: 20px 0 10px 0;">Personality Traits</h3>
                    <div class="badges">
                        <div class="badge">Creative</div>
                        <div class="badge">Adventurous</div>
                        <div class="badge">Introvert</div>
                        <div class="badge">Empathetic</div>
                    </div>
                    
                    <div class="personality-reveal" style="margin: 20px 0;">
                        <div class="personality-title">My perfect first date:</div>
                        <div class="personality-answer">Visiting an art exhibition followed by coffee at a cozy café</div>
                    </div>
                    
                    <!-- Photo Gallery -->
                    <h3 style="margin: 20px 0 10px 0;">My Photos</h3>
                    <div class="photo-gallery">
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1460661419204-e524d4c775f2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1542435503-956c469947f6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-bar">
                <div class="tab-item" onclick="setActiveTab(this, 'home-screen')">
                    <div class="tab-icon"><i class="fas fa-compass"></i></div>
                    <div>Discover</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'explore-screen')">
                    <div class="tab-icon"><i class="fas fa-search"></i></div>
                    <div>Explore</div>
                </div>
                <div class="tab-item" onclick="setActiveTab(this, 'matches-screen')">
                    <div class="tab-icon"><i class="fas fa-heart"></i></div>
                    <div>Matches</div>
                </div>
                <div class="tab-item active" onclick="setActiveTab(this, 'profile-screen')">
                    <div class="tab-icon"><i class="fas fa-user"></i></div>
                    <div>Profile</div>
                </div>
            </div>
        </div>
        
        <!-- Add Profile Screen -->
        <div class="screen" id="add-profile-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('profile-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Add Photos</div>
                <div class="nav-icon" onclick="showToast('Photos uploaded successfully!')"><i class="fas fa-check"></i></div>
            </div>
            
            <div class="content">
                <div class="onboarding-content">
                    <div class="onboarding-illustration">
                        <i class="fas fa-images"></i>
                    </div>
                    <h1 class="onboarding-title">Add Your Best Photos</h1>
                    <p class="onboarding-subtitle">Profiles with more photos get 3x more matches</p>
                    
                    <div class="photo-gallery" style="margin: 20px 0;">
                        <div class="gallery-item" style="border: 2px dashed var(--gray); display: flex; justify-content: center; align-items: center;">
                            <i class="fas fa-plus" style="font-size: 30px; color: var(--gray);"></i>
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1452587925148-ce544e77e70d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1460661419204-e524d4c775f2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80" alt="Photo">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button class="btn btn-primary" onclick="showToast('Photos uploaded successfully!'); showScreen('profile-screen');">Upload Photos</button>
                    </div>
                    
                    <p class="microcopy">Tips for great photos: <br> - Use clear, high-quality images <br> - Show yourself in different settings <br> - Include at least one full-body photo</p>
                </div>
            </div>
        </div>
        
        <!-- Settings Screen -->
        <div class="screen" id="settings-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('home-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Settings</div>
                <div class="nav-icon" onclick="showToast('Settings saved successfully!')"><i class="fas fa-check"></i></div>
            </div>
            
            <div class="content">
                <div class="form-group">
                    <label class="form-label">Account</label>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 16px;">
                        <div class="menu-item" onclick="showScreen('edit-profile-screen')">
                            <div>Edit Profile</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showScreen('privacy-screen')">
                            <div>Privacy & Security</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showScreen('connected-accounts-screen')">
                            <div>Connected Accounts</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Notifications</label>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <div>Push Notifications</div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="push-notifications" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <div>Email Notifications</div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="email-notifications" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>SMS Notifications</div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="sms-notifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Support</label>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 16px;">
                        <div class="menu-item" onclick="showHelp('general')">
                            <div>Get Help</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="reportProblem()">
                            <div>Report a Problem</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                        <div class="menu-item" onclick="showScreen('blocked-users-screen')">
                            <div>Blocked Users</div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-outline" style="color: var(--error);" onclick="confirmDelete()">Delete Account</button>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-outline" onclick="logout()">Log Out</button>
                </div>
            </div>
        </div>
        
        <!-- Edit Profile Screen -->
        <div class="screen" id="edit-profile-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('settings-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Edit Profile</div>
                <div class="nav-icon" onclick="showToast('Profile updated successfully!')"><i class="fas fa-check"></i></div>
            </div>
            
            <div class="content">
                <div class="avatar-upload">
                    <img src="https://media.licdn.com/dms/image/v2/D5603AQE6yjLFDfxE9g/profile-displayphoto-scale_400_400/B56ZkimhTRJ8Ag-/0/1757222149940?e=1759968000&v=beta&t=biQlFmC_AG66i8sdLAyksX8ZA5d3NPY9HPryWYWT-70" class="avatar-preview" alt="Profile">
                    <div class="avatar-upload-btn">Change Photo</div>
                </div>
                
                <div class="edit-profile-form">
                    <div class="form-group">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-input" value="Sai Prasad">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="number" class="form-input" value="20">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Bio</label>
                        <textarea class="form-input" rows="4">I'm an art student passionate about painting and photography. Love visiting galleries, indie music concerts, and exploring cute coffee shops.</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Interests</label>
                        <input type="text" class="form-input" value="Painting, Photography, Coffee, Indie Music">
                    </div>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" onclick="showToast('Profile updated successfully!'); showScreen('profile-screen');">Save Changes</button>
                </div>
            </div>
        </div>
        
        <!-- Privacy Screen -->
        <div class="screen" id="privacy-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('settings-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Privacy & Security</div>
                <div class="nav-icon" onclick="showToast('Privacy settings saved!')"><i class="fas fa-check"></i></div>
            </div>
            
            <div class="content">
                <div style="background: #f8f9fa; padding: 15px; border-radius: 16px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div>
                            <div class="form-label">Private Account</div>
                            <p class="microcopy">Only matches can see your profile</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="privacy-private-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div>
                            <div class="form-label">Show Distance</div>
                            <p class="microcopy">Allow others to see your approximate distance</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="privacy-distance-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div class="form-label">Show Activity Status</div>
                            <p class="microcopy">Show when you were last active</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="privacy-activity-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" onclick="showToast('Privacy settings saved!'); showScreen('settings-screen');">Save Changes</button>
                </div>
            </div>
        </div>
        
        <!-- Connected Accounts Screen -->
        <div class="screen" id="connected-accounts-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('settings-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Connected Accounts</div>
                <div class="nav-icon"><i class="fas fa-check"></i></div>
            </div>
            
            <div class="content">
                <div style="background: #f8f9fa; padding: 15px; border-radius: 16px; margin-bottom: 20px;">
                    <div class="menu-item">
                        <div style="display: flex; align-items: center;">
                            <i class="fab fa-google" style="color: #DB4437; margin-right: 10px;"></i>
                            <div>Google</div>
                        </div>
                        <div style="color: var(--success);">Connected</div>
                    </div>
                    
                    <div class="menu-item">
                        <div style="display: flex; align-items: center;">
                            <i class="fab fa-apple" style="color: #000; margin-right: 10px;"></i>
                            <div>Apple</div>
                        </div>
                        <div style="color: var(--gray);">Not Connected</div>
                    </div>
                    
                    <div class="menu-item">
                        <div style="display: flex; align-items: center;">
                            <i class="fab fa-instagram" style="color: #E4405F; margin-right: 10px;"></i>
                            <div>Instagram</div>
                        </div>
                        <div style="color: var(--success);">Connected</div>
                    </div>
                </div>
                
                <p class="microcopy">Connecting accounts helps us verify your identity and improve your matches</p>
            </div>
        </div>
        
        <!-- Blocked Users Screen -->
        <div class="screen" id="blocked-users-screen">
            <div class="header">
                <div class="nav-icon" onclick="showScreen('settings-screen')"><i class="fas fa-arrow-left"></i></div>
                <div class="logo">Blocked Users</div>
                <div class="nav-icon"><i class="fas fa-user-slash"></i></div>
            </div>
            
            <div class="content">
                <div style="text-align: center; padding: 40px 20px;">
                    <i class="fas fa-user-slash" style="font-size: 60px; color: var(--gray); margin-bottom: 20px;"></i>
                    <h2 class="onboarding-title">No Blocked Users</h2>
                    <p class="onboarding-subtitle">Users you block will appear here</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>
    
    <!-- Match Animation -->
    <div class="match-animation" id="match-animation">
        <div class="match-content">
            <h2 class="match-title">It's a Match!</h2>
            <p class="match-text">You and Rushil have liked each other</p>
            <div class="match-actions">
                <button class="btn btn-outline" onclick="hideMatchAnimation()">Keep Swiping</button>
                <button class="btn btn-primary" onclick="startChat()">Say Hello</button>
            </div>
        </div>
    </div>

    <script>
        // Current profile image index for each profile
        const profileImages = {
            'current-profile': 0,
            'explore-profile-1': 0,
            'explore-profile-2': 0
        };
        
        // Current chat state
        let currentChatUser = null;
        let chatOpen = false;
        
        // Debounce function to limit how often a function can be called
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show the requested screen
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.add('active');
            } else {
                // Fallback to home screen if screen doesn't exist
                document.getElementById('home-screen').classList.add('active');
                showToast('Screen not available yet');
            }
            
            // Close chat if open when switching screens
            if (chatOpen) {
                toggleChat();
            }
        }
        
        function setActiveTab(tabElement, screenId) {
            // Remove active class from all tab items
            document.querySelectorAll('.tab-item').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            tabElement.classList.add('active');
            
            // Show the corresponding screen
            showScreen(screenId);
        }
        
        function validateLogin() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                showToast('Please enter both email and password');
                return;
            }
            
            // Show loading state
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span class="spinner"></span>';
            btn.disabled = true;
            
            // Simulate login process
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                showScreen('preferences-screen');
            }, 1000);
        }
        
        function socialLogin(provider) {
            // Show loading state
            const btn = event.target;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<span class="spinner"></span>';
            
            showToast(`Logging in with ${provider}`);
            // Simulate login process
            setTimeout(() => {
                btn.innerHTML = originalHTML;
                showScreen('preferences-screen');
            }, 1500);
        }
        
        function savePreferences() {
            const lookingFor = document.getElementById('looking-for').value;
            const ageRange = document.getElementById('age-range').value;
            const maxDistance = document.getElementById('max-distance').value;
            const notifications = document.getElementById('notifications-toggle').checked;
            const privateAccount = document.getElementById('private-toggle').checked;
            
            // Show loading state
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span class="spinner"></span>';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                showToast('Preferences saved!');
                showScreen('home-screen');
            }, 1000);
        }
        
        function showHelp(topic) {
            showToast(`Help for ${topic} would be shown here`);
        }
        
        function showFilters() {
            showToast('Advanced filters would be shown here');
        }
        
        function setSelectionOption(optionElement, option) {
            // Remove active class from all options
            document.querySelectorAll('.selection-option').forEach(opt => {
                opt.classList.remove('active');
            });
            
            // Add active class to clicked option
            optionElement.classList.add('active');
            
            // In a real app, this would filter the profiles based on the selected option
            showToast(`Showing ${option}`);
        }
        
        function changeProfileImage(profileId, direction) {
            const profile = document.getElementById(profileId);
            if (!profile) return;
            
            const images = profile.querySelectorAll('.profile-image');
            const indicators = profile.querySelectorAll('.image-indicator');
            
            if (images.length <= 1) return;
            
            // Get current index
            let currentIndex = profileImages[profileId];
            
            // Calculate new index based on direction
            if (direction === 'next') {
                currentIndex = (currentIndex + 1) % images.length;
            } else if (direction === 'prev') {
                currentIndex = (currentIndex - 1 + images.length) % images.length;
            }
            
            // Update images
            images.forEach((img, index) => {
                if (index === currentIndex) {
                    img.classList.add('active');
                } else {
                    img.classList.remove('active');
                }
            });
            
            // Update indicators
            indicators.forEach((indicator, index) => {
                if (index === currentIndex) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
            
            // Save current index
            profileImages[profileId] = currentIndex;
        }
        
        function swipeCard(direction, profileId = 'current-profile') {
            const card = document.getElementById(profileId);
            if (!card) return;
            
            if (direction === 'right') {
                card.classList.add('swipe-right');
            } else if (direction === 'left') {
                card.classList.add('swipe-left');
            } else {
                // Super like - different animation
                card.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
                card.style.transform = 'translateY(-1000px) rotate(10deg)';
                card.style.opacity = '0';
            }
            
            // Show a match alert occasionally
            if (Math.random() > 0.7 && direction !== 'left') {
                setTimeout(() => {
                    showMatchAnimation();
                }, 500);
            }
            
            // Reset after animation
            setTimeout(() => {
                card.style.transition = 'none';
                card.style.transform = 'translateX(0) rotate(0)';
                card.style.opacity = '1';
                card.classList.remove('swipe-right', 'swipe-left');
                
                // Change photo after swipe
                changeProfileImage(profileId, 'next');
            }, 500);
        }
        
        function showMatchAnimation() {
            const matchAnimation = document.getElementById('match-animation');
            matchAnimation.classList.add('active');
        }
        
        function hideMatchAnimation() {
            const matchAnimation = document.getElementById('match-animation');
            matchAnimation.classList.remove('active');
        }
        
        function startChat() {
            hideMatchAnimation();
            toggleChat();
        }
        
        function toggleChat() {
            const chatButton = document.querySelector('.chat-main-button');
            const chatWindow = document.getElementById('chat-window');
            
            chatOpen = !chatOpen;
            
            if (chatOpen) {
                chatButton.classList.add('active');
                chatWindow.classList.add('active');
                // Focus on input when chat opens
                setTimeout(() => {
                    document.getElementById('message-input').focus();
                }, 300);
            } else {
                chatButton.classList.remove('active');
                chatWindow.classList.remove('active');
            }
        }
        
        function openChat(user) {
            currentChatUser = user;
            showScreen('home-screen');
            
            // Open chat after a short delay to allow screen transition
            setTimeout(() => {
                if (!chatOpen) {
                    toggleChat();
                }
            }, 100);
        }
        
        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const messagesContainer = document.getElementById('chat-messages');
            
            // Create new message element
            const messageElement = document.createElement('div');
            messageElement.className = 'message message-outgoing';
            
            const messageText = document.createElement('div');
            messageText.className = 'message-text';
            messageText.textContent = message;
            
            const messageTime = document.createElement('div');
            messageTime.className = 'message-time';
            messageTime.textContent = getCurrentTime();
            
            messageElement.appendChild(messageText);
            messageElement.appendChild(messageTime);
            
            messagesContainer.appendChild(messageElement);
            
            // Clear input
            input.value = '';
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Simulate reply after a short delay
            setTimeout(() => {
                simulateReply();
            }, 1000);
        }
        
        function handleMessageKeypress(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        }
        
        function simulateReply() {
            const messagesContainer = document.getElementById('chat-messages');
            const replies = [
                "That sounds great!",
                "I'd love to!",
                "How about tomorrow?",
                "Thanks for letting me know!",
                "I was thinking the same thing!"
            ];
            
            const randomReply = replies[Math.floor(Math.random() * replies.length)];
            
            // Create reply message element
            const messageElement = document.createElement('div');
            messageElement.className = 'message message-incoming';
            
            const messageText = document.createElement('div');
            messageText.className = 'message-text';
            messageText.textContent = randomReply;
            
            const messageTime = document.createElement('div');
            messageTime.className = 'message-time';
            messageTime.textContent = getCurrentTime();
            
            messageElement.appendChild(messageText);
            messageElement.appendChild(messageTime);
            
            messagesContainer.appendChild(messageElement);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function getCurrentTime() {
            const now = new Date();
            return now.getHours() + ':' + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();
        }
        
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }
        
        function toggleEditMode() {
            showScreen('edit-profile-screen');
        }
        
        function viewProfile(userId) {
            showToast(`Viewing ${userId}'s profile`);
            // In a real app, this would show the profile of the selected user
            showScreen('profile-screen');
        }
        
        // Debounced filter function to improve performance
        const filterProfiles = debounce(function() {
            const input = document.getElementById('search-input');
            const filter = input.value.toUpperCase();
            const profiles = document.querySelectorAll('.profile-card');
            
            profiles.forEach(profile => {
                const name = profile.querySelector('.profile-name').textContent;
                const bio = profile.querySelector('.profile-bio').textContent;
                const details = profile.querySelector('.profile-details').textContent;
                
                if (name.toUpperCase().indexOf(filter) > -1 || 
                    bio.toUpperCase().indexOf(filter) > -1 || 
                    details.toUpperCase().indexOf(filter) > -1) {
                    profile.style.display = 'block';
                } else {
                    profile.style.display = 'none';
                }
            });
        }, 300);
        
        function setFilter(buttonElement, filterType) {
            // Remove active class from all filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            buttonElement.classList.add('active');
            
            // In a real app, this would filter the profiles based on the selected filter
            showToast(`Filtering by ${filterType}`);
        }
        
        function reportProblem() {
            showToast('Problem reporting screen would open here');
        }
        
        function confirmDelete() {
            if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                showToast('Account deleted successfully');
                setTimeout(() => {
                    showScreen('onboarding-screen');
                }, 2000);
            }
        }
        
        function logout() {
            if (confirm('Are you sure you want to log out?')) {
                showToast('Logged out successfully');
                setTimeout(() => {
                    showScreen('onboarding-screen');
                }, 1500);
            }
        }
        
        // Add touch events for mobile swiping
        let touchStartX = 0;
        let touchStartY = 0;
        let touchStartTime = 0;
        
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
            touchStartTime = new Date().getTime();
        });
        
        document.addEventListener('touchend', e => {
            const touchEndX = e.changedTouches[0].screenX;
            const touchEndY = e.changedTouches[0].screenY;
            const touchEndTime = new Date().getTime();
            const diffX = touchEndX - touchStartX;
            const diffY = touchEndY - touchStartY;
            const elapsedTime = touchEndTime - touchStartTime;
            
            // Check if it's a horizontal swipe (not vertical scroll) and quick enough
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50 && elapsedTime < 300) {
                if (diffX > 0) {
                    // Swipe right - like
                    swipeCard('right');
                } else {
                    // Swipe left - dislike
                    swipeCard('left');
                }
            }
            
            // Check for vertical swipe for image changing
            if (Math.abs(diffY) > Math.abs(diffX) && Math.abs(diffY) > 50 && elapsedTime < 300) {
                const card = e.target.closest('.profile-card');
                if (card) {
                    if (diffY < 0) {
                        // Swipe up - next image
                        changeProfileImage(card.id, 'next');
                    } else {
                        // Swipe down - previous image
                        changeProfileImage(card.id, 'prev');
                    }
                }
            }
        });
        
        // Add click events for image indicators
        document.addEventListener('click', e => {
            if (e.target.classList.contains('image-indicator')) {
                const indicator = e.target;
                const profile = indicator.closest('.profile-card');
                if (!profile) return;
                
                const profileId = profile.id;
                const index = parseInt(indicator.getAttribute('data-index'));
                
                const images = profile.querySelectorAll('.profile-image');
                const indicators = profile.querySelectorAll('.image-indicator');
                
                // Update images
                images.forEach((img, imgIndex) => {
                    if (imgIndex === index) {
                        img.classList.add('active');
                    } else {
                        img.classList.remove('active');
                    }
                });
                
                // Update indicators
                indicators.forEach((ind, indIndex) => {
                    if (indIndex === index) {
                        ind.classList.add('active');
                    } else {
                        ind.classList.remove('active');
                    }
                });
                
                // Save current index
                profileImages[profileId] = index;
            }
        });
        
        // Preload images for better performance
        window.addEventListener('load', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                // Create a new image to force preloading
                const preloadImage = new Image();
                preloadImage.src = img.src;
            });
        });
    </script>
</body>
</html>
